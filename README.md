# /we: Web Deploy CLI v2.3.0

> ë°°í¬ â€¢ ë¶„ì„ â€¢ ì›Œí¬í”Œë¡œìš° â€¢ ìµœì í™” - Podman + Quadlet + GitHub Actions ê¸°ë°˜ CI/CD ìë™í™”

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   /we: Web Deploy CLI v2.3.0                  â•‘
â•‘   ë°°í¬ â€¢ ë¶„ì„ â€¢ ì›Œí¬í”Œë¡œìš° â€¢ ìµœì í™”           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ë¹ ë¥¸ ì‹œì‘

```bash
# ì„¤ì¹˜
cd /Users/admin/new_project/we-cli
npm install && npm link

# Claude Code ìŠ¬ë˜ì‹œ ëª…ë ¹ ì„¤ì¹˜
npm run install-commands

# í™•ì¸
we --version
```

## í•µì‹¬ ê¸°ëŠ¥

| ëª…ë ¹ | ì„¤ëª… |
|------|------|
| `we workflow init` | í”„ë¡œì íŠ¸ CI/CD ì´ˆê¸°í™” (Dockerfile + GitHub Actions + Quadlet) |
| `we secrets setup` | GitHub Secrets ìë™ ì„¤ì • (HOST, USERNAME, SSH_KEY) |
| `we registry list` | ì„œë²„ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í”„ë¡œì íŠ¸ ëª©ë¡ |
| `we deploy` | í”„ë¡œì íŠ¸ ë°°í¬ |
| `we health` | ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€ |

## ì„œë¹„ìŠ¤ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           /we: ë°°í¬ ì›Œí¬í”Œë¡œìš°                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  1ï¸âƒ£ í”„ë¡œì íŠ¸ ì´ˆê¸°í™”          2ï¸âƒ£ GitHub Secrets ì„¤ì •       3ï¸âƒ£ ì½”ë“œ í‘¸ì‹œ
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ we workflow init â”‚   â†’    â”‚ we secrets setup â”‚   â†’    â”‚    git push      â”‚
  â”‚                  â”‚        â”‚                  â”‚        â”‚                  â”‚
  â”‚ â€¢ Dockerfile     â”‚        â”‚ â€¢ HOST           â”‚        â”‚ â€¢ main ë¸Œëœì¹˜    â”‚
  â”‚ â€¢ deploy.yml     â”‚        â”‚ â€¢ USERNAME       â”‚        â”‚ â€¢ ìë™ íŠ¸ë¦¬ê±°    â”‚
  â”‚ â€¢ Quadlet        â”‚        â”‚ â€¢ SSH_KEY        â”‚        â”‚                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                           â”‚                           â”‚
           â–¼                           â–¼                           â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                         GitHub Actions ìë™ ì‹¤í–‰                         â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  npm ci â†’ lint â†’ test â†’ Docker Build â†’ ghcr.io Push â†’ SSH Deploy       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  4ï¸âƒ£ ì„œë²„ ìë™ ë°°í¬ (141.164.60.51)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  podman pull â†’ podman stop â†’ podman rm â†’ podman run (Quadlet/systemd)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
  5ï¸âƒ£ ì„œë¹„ìŠ¤ í™•ì¸
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  we health       â”‚        â”‚ we registry list â”‚        â”‚ we domain check  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ëª…ë ¹ì–´ ìƒì„¸

### ğŸš€ workflow - CI/CD ì›Œí¬í”Œë¡œìš° ìƒì„±

í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ëª¨ë“  ë°°í¬ íŒŒì¼ì„ í•œë²ˆì— ìƒì„±í•©ë‹ˆë‹¤.

```bash
# ì „ì²´ ì´ˆê¸°í™” (ê¶Œì¥)
we workflow init myapp --type nextjs --database --redis

# ê°œë³„ ìƒì„±
we workflow dockerfile myapp              # Dockerfileë§Œ
we workflow github-actions myapp          # GitHub Actionsë§Œ
we workflow quadlet myapp --port 3000     # Quadletë§Œ
```

**ìƒì„±ë˜ëŠ” íŒŒì¼:**
- `Dockerfile.production` - í”„ë¡œë•ì…˜ ìµœì í™” Docker ì´ë¯¸ì§€
- `.github/workflows/deploy.yml` - GitHub Actions CI/CD
- `deploy/myapp.container` - Quadlet systemd ì„¤ì •

**ì˜µì…˜:**
| ì˜µì…˜ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|------|------|--------|
| `--type` | í”„ë¡œì íŠ¸ íƒ€ì… (nextjs/remix/nodejs/static) | nextjs |
| `--port` | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | 3000 |
| `--staging-port` | Staging í¬íŠ¸ | 3001 |
| `--production-port` | Production í¬íŠ¸ | 3000 |
| `--host` | ë°°í¬ ì„œë²„ | 141.164.60.51 |
| `--database` | PostgreSQL í¬í•¨ | false |
| `--redis` | Redis í¬í•¨ | false |

---

### ğŸ” secrets - GitHub Secrets ìë™ ì„¤ì •

gh CLIë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬ì— í•„ìš”í•œ Secretsë¥¼ ìë™ ë“±ë¡í•©ë‹ˆë‹¤.

```bash
# í•„ìˆ˜ Secrets í™•ì¸
we secrets check

# Secrets ëª©ë¡ ì¡°íšŒ
we secrets list

# ìë™ ì„¤ì • (ëŒ€í™”í˜•)
we secrets setup

# íŠ¹ì • ì €ì¥ì†Œ ì„¤ì •
we secrets setup owner/repo
```

**í•„ìˆ˜ Secrets:**
| Secret | ì„¤ëª… | ì›Œí¬í”Œë¡œìš° ì‚¬ìš© |
|--------|------|-----------------|
| `HOST` | ë°°í¬ ì„œë²„ IP | SSH ì ‘ì† |
| `USERNAME` | SSH ì‚¬ìš©ì | SSH ì ‘ì† |
| `SSH_KEY` | SSH ê°œì¸í‚¤ | ì„œë²„ ì¸ì¦ |

**ì„ íƒ Secrets:**
| Secret | ì„¤ëª… |
|--------|------|
| `ENV_PRODUCTION` | .env.production íŒŒì¼ ë‚´ìš© |
| `GHCR_TOKEN` | GitHub Container Registry í† í° |

---

### ğŸ“¦ registry - ì„œë²„ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê´€ë¦¬

ì„œë²„ì˜ í”„ë¡œì íŠ¸, í¬íŠ¸, ë„ë©”ì¸ ì •ë³´ë¥¼ ì¤‘ì•™ ê´€ë¦¬í•©ë‹ˆë‹¤.

```bash
# í”„ë¡œì íŠ¸ ëª©ë¡
we registry list

# í”„ë¡œì íŠ¸ ìƒì„¸
we registry show myapp

# í”„ë¡œì íŠ¸ ì¶”ê°€
we registry add myapp --port 3000 --domain myapp.one-q.xyz

# í¬íŠ¸ í˜„í™©
we registry ports

# ì„œë²„ ë™ê¸°í™”
we registry sync
```

**í¬íŠ¸ í• ë‹¹ ê·œì¹™:**
| í™˜ê²½ | í¬íŠ¸ ë²”ìœ„ | ì˜ˆì‹œ |
|------|----------|------|
| Production | 3000-3099 | 3000, 3010, 3020 |
| Staging | 3100-3199 | 3100, 3110, 3120 |
| Preview | 3200-3299 | 3200, 3210, 3220 |

**Preview í™˜ê²½ ê´€ë¦¬:**
```bash
# Preview ìƒì„± (PR ê¸°ë°˜)
we registry preview myapp --pr 123 --build 456

# Productionìœ¼ë¡œ ìŠ¹ê²©
we registry promote myapp --pr 123 --environment production
```

---

### ğŸš€ deploy - í”„ë¡œì íŠ¸ ë°°í¬

```bash
# Staging ë°°í¬
we deploy myapp --environment staging

# Production ë°°í¬
we deploy myapp --environment production

# ìºì‹œ ì—†ì´ ë¹Œë“œ
we deploy myapp --no-cache

# ë“œë¼ì´ëŸ° (ê³„íšë§Œ í‘œì‹œ)
we deploy myapp --dry-run
```

---

### ğŸ’š health - ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€

```bash
# ê¸°ë³¸ ìƒíƒœ ì ê²€
we health

# ìƒì„¸ ì •ë³´
we health --verbose

# JSON ì¶œë ¥
we health --json

# ì§€ì† ëª¨ë‹ˆí„°ë§
we health --watch --interval 30
```

---

### ğŸ” analyze - í”„ë¡œì íŠ¸ ë¶„ì„

7-Agent ì‹œìŠ¤í…œì„ í™œìš©í•œ ì½”ë“œ ë¶„ì„.

```bash
# ê¸°ë³¸ ë¶„ì„
we analyze

# ë³´ì•ˆ ì§‘ì¤‘ ë¶„ì„
we analyze --depth deep --focus security

# íŠ¹ì • ì—ì´ì „íŠ¸ ì‚¬ìš©
we analyze --agent frontend
```

**Agent ì¢…ë¥˜:**
| Agent | ì—­í•  |
|-------|------|
| `master` | ğŸ‘‘ í”„ë¡œì íŠ¸ ì „ì²´ ì¡°ìœ¨ |
| `api` | ğŸ”– API ì„¤ê³„ ë° ê³„ì•½ |
| `frontend` | ğŸ¨ UI/UX ê°œë°œ |
| `db` | ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ |
| `e2e` | ğŸ§ª E2E í…ŒìŠ¤íŠ¸ ì „ëµ |
| `admin` | ğŸ›¡ï¸ ê´€ë¦¬ì íŒ¨ë„ |

---

### ğŸŒ domain - ë„ë©”ì¸ ê´€ë¦¬

```bash
# ë„ë©”ì¸ ì„¤ì •
we domain setup myapp.one-q.xyz --ssl --www

# ë„ë©”ì¸ ìƒíƒœ í™•ì¸
we domain check myapp.one-q.xyz

# ë„ë©”ì¸ ëª©ë¡
we domain list

# ë„ë©”ì¸ ì‚­ì œ
we domain remove myapp.one-q.xyz
```

---

### âª rollback - ë°°í¬ ë¡¤ë°±

```bash
# ë²„ì „ ëª©ë¡
we rollback myapp --list

# ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
we rollback myapp --environment production

# íŠ¹ì • ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
we rollback myapp --version v1.2.3
```

---

### ğŸ”‘ ssh - SSH í‚¤ ê´€ë¦¬ (Vultr API)

```bash
# í‚¤ ë“±ë¡
we ssh register --name "My Key"

# í‚¤ ëª©ë¡
we ssh list

# ì„œë²„ì™€ ë™ê¸°í™”
we ssh sync
```

---

### ğŸ“Š monitor - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

```bash
# CPU, ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§
we monitor --metrics cpu,memory

# ì„ê³„ê°’ ì„¤ì •
we monitor --threshold 90

# 30ë¶„ê°„ ëª¨ë‹ˆí„°ë§
we monitor --duration 30
```

---

## Claude Code ìŠ¬ë˜ì‹œ ëª…ë ¹

```bash
/we:deploy    # í”„ë¡œì íŠ¸ ë°°í¬
/we:analyze   # í”„ë¡œì íŠ¸ ë¶„ì„
/we:workflow  # CI/CD ì›Œí¬í”Œë¡œìš° ìƒì„±
/we:health    # ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€
/we:domain    # ë„ë©”ì¸ ê´€ë¦¬
/we:rollback  # ë°°í¬ ë¡¤ë°±
/we:monitor   # ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
/we:ssh       # SSH í‚¤ ê´€ë¦¬
/we:agent     # 7-Agent ì§ì ‘ í˜¸ì¶œ
/we:optimize  # í”„ë¡œì íŠ¸ ìµœì í™”
/we:registry  # ì„œë²„ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ê´€ë¦¬
/we:secrets   # GitHub Secrets ìë™ ì„¤ì •
```

## ì™„ì „í•œ ë°°í¬ ì˜ˆì‹œ

### ìƒˆ í”„ë¡œì íŠ¸ ë°°í¬ (ì²˜ìŒë¶€í„° ëê¹Œì§€)

```bash
# 1. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ~/my-nextjs-app

# 2. CI/CD ì›Œí¬í”Œë¡œìš° ìƒì„±
we workflow init myapp --type nextjs --database

# 3. GitHub Secrets ì„¤ì •
we secrets setup

# 4. Git ì»¤ë°‹ & í‘¸ì‹œ
git add .
git commit -m "Add CI/CD workflow"
git push origin main

# 5. GitHub Actions ìë™ ì‹¤í–‰ â†’ ë°°í¬ ì™„ë£Œ!

# 6. ìƒíƒœ í™•ì¸
we health --verbose
we registry list
```

### ê¸°ì¡´ í”„ë¡œì íŠ¸ì— CI/CD ì¶”ê°€

```bash
# 1. Secrets í™•ì¸
we secrets check

# 2. ë¶€ì¡±í•œ Secrets ì„¤ì •
we secrets setup

# 3. ì›Œí¬í”Œë¡œìš° ìƒì„±
we workflow github-actions myapp

# 4. í‘¸ì‹œí•˜ë©´ ìë™ ë°°í¬
git push origin main
```

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         /we: CLI Architecture                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  workflow â”‚    â”‚  secrets  â”‚    â”‚  registry â”‚    â”‚  deploy   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                â”‚                â”‚        â”‚
â”‚         â–¼                â–¼                â–¼                â–¼        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                    MCP codeb-deploy Server                   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                â”‚                â”‚        â”‚
â”‚         â–¼                â–¼                â–¼                â–¼        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚              SSH â†’ 141.164.60.51 (Vultr VPS)                â”‚  â”‚
â”‚   â”‚                                                              â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚   â”‚  Podman  â”‚  â”‚ Quadlet  â”‚  â”‚ systemd  â”‚  â”‚  Caddy   â”‚   â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â”‚                                                              â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚  â”‚
â”‚   â”‚   â”‚PostgreSQLâ”‚  â”‚  Redis   â”‚  â”‚ PowerDNS â”‚                  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## í™˜ê²½ ì„¤ì •

### ì„œë²„ ì •ë³´
- **Host**: 141.164.60.51
- **User**: root
- **ê¸°ë³¸ ë„ë©”ì¸**: one-q.xyz

### ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìœ„ì¹˜
- **ì„œë²„**: `/opt/codeb/registry.json`
- **ë¡œì»¬ ìºì‹œ**: `~/.codeb/registry-cache.json`

### ìš”êµ¬ì‚¬í•­
- Node.js 18+
- gh CLI (GitHub Secrets ê´€ë¦¬ìš©)
- SSH í‚¤ (~/.ssh/id_ed25519 ë˜ëŠ” id_rsa)

## ë¬¸ì œ í•´ê²°

### GitHub Actions ì‹¤íŒ¨ ì‹œ

```bash
# 1. Secrets í™•ì¸
we secrets check

# 2. ë¹Œë“œ ì—ëŸ¬ í™•ì¸
gh run list --repo owner/repo
gh run view <run-id> --log-failed

# 3. ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸
docker build -f Dockerfile.production -t test .
```

### ë°°í¬ ì‹¤íŒ¨ ì‹œ

```bash
# 1. ì„œë²„ ìƒíƒœ í™•ì¸
we health --verbose

# 2. ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
ssh root@141.164.60.51 "podman ps -a"

# 3. ë¡¤ë°±
we rollback myapp --environment production
```

## ë¼ì´ì„ ìŠ¤

MIT Â© CodeB Team

## ë§í¬

- **ë¬¸ì„œ**: https://codeb.io/docs/cli
- **ì´ìŠˆ**: https://github.com/codeblabdev-max/we-cli/issues
- **ì €ì¥ì†Œ**: https://github.com/codeblabdev-max/we-cli
